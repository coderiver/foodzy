head.ready(function(){function t(){$(".js-ui-slider-range").each(function(){var t=$(this).find(".js-ui-slider-main"),s=$(this).find(".js-ui-slider-from"),e=$(this).find(".js-ui-slider-to"),i=+$(this).attr("data-min"),a=+$(this).attr("data-max");t.slider({range:!0,min:i,max:a,step:1e3,values:[i,a],slide:function(t,i){$(this).find(".ui-slider-handle").html("<span></span>");var a=$(this).find(".ui-slider-range").next().find("span"),n=$(this).find(".ui-slider-range").next().next().find("span");s.text(i.values[0]),e.text(i.values[1]),a.text(i.values[0]),n.text(i.values[1])}}),console.log(n),console.log(o),$(this).find(".ui-slider-handle").html("<span></span>");var n=$(this).find(".ui-slider-range").next().find("span"),o=$(this).find(".ui-slider-range").next().next().find("span");n.text(t.slider("values",0)),o.text(t.slider("values",1)),s.text(t.slider("values",0)),e.text(t.slider("values",1))})}function s(){if($(".js-full-cart").length)var t=c.offset().top-79;else var t=c.offset().top;var s=c.offset().left,e=$(document).scrollTop(),i=l.outerHeight();e>=t?($("body").addClass("has-fixed-sidebar"),i>=$(window).height()&&(c.find(".sidebar__wrap").css({maxHeight:$(window).height()-80}),l.css({maxHeight:$(window).height()-36,left:s})),i<$(window).height()&&(c.find(".sidebar__wrap").css({maxHeight:"auto"}),l.css({maxHeight:"auto"}))):$("body").removeClass("has-fixed-sidebar")}function e(){var t=$(".js-choose");t.each(function(){var t=+$(this).attr("data-max-number"),s=$(this).find("input"),e=$(this).find(".js-choose-digit"),i=$(this).find(".js-plus"),a=$(this).find(".js-minus");i.on("click",function(){var i=+s.val();return i>=t?!1:(i+=1,s.val(i),e.text(i),void 0)}),a.on("click",function(){var t=+s.val();return t>1?(t-=1,s.val(t),e.text(t),void 0):!1})})}function i(){var t=$(".js-full-cart .header__top").outerHeight(),s=$(document).scrollTop();s>=t?$("body").addClass("has-fixed-header"):$("body").removeClass("has-fixed-header")}function a(){$(".js-tab").each(function(){var t=($(this).find("a"),$(this).parents(".js-tab-group").find(".js-tab-cont"));t.hide();var s=$(this).find(".is-active").attr("href");$("."+s).show(),$(this).parents(".js-tab-group").find(".js-tab1").show(),$("body").on("click",".js-tab a",function(){var t=$(this).attr("href");return $(this).parents(".js-tab").find("li").removeClass("is-active"),$(this).parent().addClass("is-active"),$(this).parents(".js-tab-group").find(".js-tab-cont").hide(),$(this).parents(".js-tab-group").find("."+t).show(),!1})})}function n(){var t=$(".js-categ"),s=$(document).scrollTop();t.each(function(){var t=$(this).attr("data-categ"),e=$('[href="'+t+'"]'),i=$(this).offset().top;$(".js-full-cart").length?s>=i-$(".js-full-cart").outerHeight()&&($(".js-sidebar-nav li").removeClass("is-active"),e.parents("li").addClass("is-active")):s>=i&&($(".js-sidebar-nav li").removeClass("is-active"),e.parents("li").addClass("is-active"))})}var o=navigator.userAgent,r=o.match(/iPad/i)?"touchstart":"click";$(document).bind(r,function(){$(".js-overlay").hide(),$("body").removeClass("has-open-popup"),$(".js-select-list").hide(),$(".js-select").removeClass("is-active"),$(".js-extend-item").removeClass("is-active"),$(".js-item-popup").fadeOut(200),$(".js-window").fadeOut(200)}),$(".js-extend-item-link").on("click",function(t){return $(".js-extend-item").removeClass("is-active"),$(this).parents(".js-extend-item").toggleClass("is-active"),t.stopPropagation(),!1}),$(".js-popup-link").on("click",function(t){$(".js-overlay").fadeOut(200);var s=$(this).attr("href");return $("body").addClass("has-open-popup"),$("."+s).parent().fadeIn(200),t.stopPropagation(),!1}),$(".js-popup-close").on("click",function(){return $(".js-overlay").fadeOut(200),$("body").removeClass("has-open-popup"),!1}),$(".js-popup").on("click",function(t){t.stopPropagation()}),$(".js-window-link").on("click",function(t){var s=$(this).attr("href"),e=$(this).parents(".js-window-ancor").offset().left,i=$(this).parents(".js-window-ancor").offset().top;return $("."+s).css({top:i,left:e}),$("."+s).fadeIn(200),t.stopPropagation(),!1}),$(".js-window-close").on("click",function(){return $(".js-overlay").fadeOut(200),$(this).parents(".js-window").fadeOut(200),!1}),$(".js-window").on("click",function(t){t.stopPropagation()}),$(".js-order-link").on("click",function(t){var s=$(this).attr("href"),e=$(this).parents(".items-wrap").find(".js-item").first().offset().left,i=$(this).parents(".js-item").offset().top;return $("."+s).css({left:e,top:i}),$("."+s).fadeIn(200),t.stopPropagation(),!1}),$(".js-item").on("click",function(t){t.stopPropagation()}),$(".js-item-popup").on("click",function(t){t.stopPropagation()}),$(".js-item-popup-close").on("click",function(){$(this).parents(".js-item-popup").fadeOut(200)}),$(".js-slider-offers").slick({slidesToShow:1,infinite:!0,speed:300,touchMove:!0,arrows:!0,dots:!0,autoplay:!0,autoplaySpeed:5e3,onInit:function(){}}),$(".js-promo-slider").slick({slidesToShow:1,infinite:!0,speed:300,touchMove:!0,dots:!0,autoplay:!0,autoplaySpeed:5e3,onInit:function(){$(".slider").addClass("is-ready")}}),$(".js-promo-slider").each(function(){$(this).find(".js-slide").length<=1?$(this).addClass("has-one-slide"):$(this).removeClass("has-one-slide")}),$(".js-compaign-key").on("click",function(){$(this).parents(".js-place").find(".js-compaigns").slideToggle(200)}),$(".js-compaigns-close").on("click",function(){$(this).parents(".js-place").find(".js-compaigns").slideUp(200)}),t();var c=$(".js-sidebar"),l=c.find(".sidebar__in");c.length&&s(),e(),$(".js-full-cart").length&&i(),$(window).resize(function(){c.length&&s()}),a(),$("body").prepend('<div class="tooltip js-tooltip"><div class="tooltip__in"></div></div>');var d=$(".js-tooltip");$(".js-tooltip-key").hover(function(){var t=$(this).offset().left,s=$(window).height()-$(this).offset().top,e=$(this).attr("data-title");d.css({left:t,bottom:s}),d.find(".tooltip__in").html(e).fadeIn("fast"),d.fadeIn("fast")},function(){d.hide()}),d.hover(function(){d.show()},function(){d.hide()}),$(".js-more-categs").on("click",function(){$(this).parent().hide(),$(this).parents(".js-sidebar-categs").find("[hidden]").removeAttr("hidden")}),$(".js-order").on("click",function(){$(this).toggleClass("is-active"),$(this).parent().find(".js-order-detail").slideToggle(200)}),$(".js-select select").on("change",function(){var t=$(this).val();$(this).parent().find(".js-select-input").val(t),$(this).parent().find(".js-select-text").text(t)}),$("body").on("change",".js-check input",function(){$(this).is(":checked")?($(this).parent().addClass("is-checked"),$(this).parents(".js-check-group").addClass("is-active")):($(this).parent().removeClass("is-checked"),$(this).parents(".js-check-group").removeClass("is-active"))}),$("body").on("change",".js-check-add input",function(){$(this).is(":checked")?$(this).parents(".js-check-group").addClass("is-active-add"):$(this).parents(".js-check-group").removeClass("is-active-add")}),$(".js-check input").each(function(){$(this).is(":checked")?($(this).parent().addClass("is-checked"),$(this).parents(".js-check-group").addClass("is-active")):($(this).parent().removeClass("is-checked"),$(this).parents(".js-check-group").removeClass("is-active"))}),$(".js-check-add input").each(function(){$(this).is(":checked")?$(this).parents(".js-check-group").addClass("is-active-add"):$(this).parents(".js-check-group").removeClass("is-active-add")}),$(window).scroll(function(){$(".js-full-cart").length&&i(),c.length&&s()}),$("body").on("click",".js-add-btn",function(){var t=$(this).attr("data-hidden"),s=$("."+t).html();return $(this).parents(".js-add-btn-wrap")?$(this).parents(".js-add-btn-wrap").before(s):$(this).before(s),!1}),$("body").on("click",".js-remove-btn",function(){return $(this).closest(".js-removeable").remove(),$(this).parents(".js-menu-item").length&&$(this).parents(".js-menu-item").remove(),$(this).parents(".js-menu-item-head").length&&$(this).parents(".js-menu-list").remove(),!1}),$(".js-drag-list").sortable({items:".js-drag-item"}),$(".js-hide-menu-item").on("click",function(){return $(this).parents(".js-menu-item").length&&$(this).parents(".js-menu-item").toggleClass("is-inactive"),$(this).parents(".js-menu-item-head").length&&$(this).parents(".js-menu-list").toggleClass("is-inactive"),!1}),$(".js-double-btn").on("click",function(){var t=$("<div>").append($(this).parents(".js-menu-item").clone()).html();return $(this).parents(".js-menu-item").after(t),!1}),$(".js-sidebar-nav a").on("click",function(){var t=$(this).attr("href"),s=$('[data-categ="'+t+'"]');if($(".js-full-cart").length)var e=s.offset().top-$(".js-full-cart").outerHeight();else var e=s.offset().top;return $(".js-sidebar-nav li").removeClass("is-active"),$(this).parent().addClass("is-active"),$("html, body").animate({scrollTop:e},200),!1}),$(".js-sidebar-nav ul a").on("click",function(){var t=$(this).attr("href"),s=$('[data-categ="'+t+'"]');if($(".js-full-cart").length)var e=s.offset().top-$(".js-full-cart").outerHeight();else var e=s.offset().top;return $(".js-sidebar-nav ul li").removeClass("is-active"),$(this).parent().addClass("is-active"),$(this).parents("li").addClass("is-active"),$("html, body").animate({scrollTop:e},200),!1}),$(".js-sidebar-nav .is-active").each(function(){var t=$(this).find("a").attr("href"),s=$('[data-categ="'+t+'"]');if($(".js-full-cart").length)var e=s.offset().top-$(".js-full-cart").outerHeight();else var e=s.offset().top;return $("html, body").animate({scrollTop:e},100),!1}),$(window).scroll(function(){n()}),$(".js-textarea textarea").keyup(function(){var t=$(this).parents(".js-textarea").find(".js-char-counter"),s=+t.attr("data-max"),e=$(this).val().length,i=s-e;e>=s?t.addClass("is-limit").text("("+i+")"):t.removeClass("is-limit").text("("+i+")")})});